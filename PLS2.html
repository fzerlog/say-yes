<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Surprise</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Cursive font for the quotes -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffffff;
      --text:#2d3142;
      --primary:#1e90ff;
      --accent:#e63946;
      --apology:#f28bb4;
      --gradient1:#a8edea;
      --gradient2:#fed6e3;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color:var(--text);
      background: var(--bg1);
      min-height:100svh;
      overflow-x:hidden;
    }
    /* Dreamy mode after trivia */
    body.dreamy{
      background: linear-gradient(to bottom right, var(--gradient1), var(--gradient2));
      overflow-y:auto;
    }

    /* Layout */
    .wrap{max-width: 920px; margin: 0 auto; padding: 24px}
    h1{margin: 16px 0 8px 0; text-align:center}
    .card{
      background:#f7f7f8;
      border-radius:16px;
      padding:24px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      margin: 16px auto;
    }
    .center{text-align:center}
    .hidden{display:none}

    /* Buttons */
    .btn{
      display:inline-block; margin:8px; padding:12px 20px; border:none;
      border-radius:999px; background:var(--primary); color:#fff; cursor:pointer;
      font-size:16px; transition:transform .1s ease, opacity .2s ease, background .2s ease;
    }
    .btn:hover{transform:translateY(-1px); opacity:.95}
    .btn:active{transform:translateY(0)}

    /* Story text + images */
    .story-text{
      font-size:20px; margin:20px auto; max-width:700px; text-align:center;
      opacity:0; transition: opacity 3s ease;
    }
    .story-text.show{opacity:1}
    .quote{font-family:'Great Vibes', cursive; font-size:30px; color:#444}
    .apology{color:var(--apology); font-style:italic}

    img.story-img{
      max-width: 300px; width: 90%;
      border-radius:18px; margin:18px auto; display:block;
      box-shadow: 0 10px 30px rgba(0,0,0,.20);
      opacity:0; transform: scale(.92);
      transition: opacity 2.8s ease, transform 2.8s ease;
    }
    img.story-img.show{opacity:1; transform: scale(1)}

    /* Final */
    #finalMessage{
      font-size:36px; font-weight:800; color:var(--accent);
      text-align:center; margin:28px 0 8px; opacity:0; transition: opacity 3s ease;
    }
    #finalMessage.show{opacity:1}
    #snoopy{display:block; margin: 12px auto 40px; max-width:200px; opacity:0; transition:opacity 2s ease}
    #snoopy.show{opacity:1}

    /* Floating bubbles + hearts (spawn AFTER trivia) */
    #fx-layer{
      position: fixed; inset: 0; pointer-events:none; z-index:0; overflow:hidden;
    }
    .fx{position:absolute; bottom:-60px; opacity:.65; animation:floatUp linear forwards}
    .bubble{
      border-radius:50%;
      background: rgba(255,255,255,.45);
      backdrop-filter: blur(2px);
      box-shadow: inset 0 0 10px rgba(255,255,255,.8), 0 6px 16px rgba(0,0,0,.12);
    }
    .heart{
      width:22px; height:22px; transform: rotate(45deg);
      background: #ff6b81; border-radius:4px;
      box-shadow: 0 6px 16px rgba(0,0,0,.15);
    }
    .heart::before, .heart::after{
      content:""; position:absolute; width:22px; height:22px; background:#ff6b81; border-radius:50%;
    }
    .heart::before{ top:-11px; left:0 }
    .heart::after{ left:-11px; top:0 }

    @keyframes floatUp{
      0%{transform:translateY(0) translateX(0) scale(.85); opacity:.0}
      10%{opacity:.65}
      100%{transform:translateY(-120vh) translateX(var(--drift,0)) scale(1.25); opacity:0}
    }

    /* Keep story content above effects */
    .content-layer{position:relative; z-index:2}
  </style>
</head>
<body>
  <div id="fx-layer" class="hidden"></div>

  <div class="wrap content-layer">
    <h1>Biodiversity Trivia</h1>

    <!-- Q1 -->
    <div id="q1" class="card center">
      <p><strong>Question 1:</strong> What is the most biodiverse country in the world?</p>
      <button class="btn" onclick="answerQ1('Brazil')">Brazil</button>
      <button class="btn" onclick="answerQ1('Canada')">Canada</button>
      <button class="btn" onclick="answerQ1('Australia')">Australia</button>
    </div>

    <!-- Q2 -->
    <div id="q2" class="card center hidden">
      <p><strong>Question 2:</strong> Roughly what percent of Earth‚Äôs species are found in rainforests?</p>
      <button class="btn" onclick="answerQ2('50%')">50%</button>
      <button class="btn" onclick="answerQ2('10%')">10%</button>
      <button class="btn" onclick="answerQ2('80%')">80%</button>
    </div>

    <!-- Transition line (still serious look) -->
    <div id="transition" class="card center hidden">
      <p class="story-text show" style="opacity:1">There‚Äôs something more important than trivia‚Ä¶</p>
    </div>

    <!-- Story starts AFTER transition (dreamy mode) -->
    <div id="story" class="center hidden"></div>

    <!-- Final -->
    <p id="finalMessage">YES ‚ù§Ô∏è I love you, my official boyfriend!</p>
	<img id="snoopy" src="https://drive.google.com/uc?export=view&id=1RZmciLY7itAEM5zyB89KVILNhDwfZ8IL" alt="Snoopy (cute)">

    <!-- Music (starts after trivia) -->
    <audio id="bgm" src="music.mp3"></audio>
  </div>

  <script>
    const q1 = document.getElementById('q1');
    const q2 = document.getElementById('q2');
    const transitionCard = document.getElementById('transition');
    const story = document.getElementById('story');
    const finalMessage = document.getElementById('finalMessage');
    const snoopy = document.getElementById('snoopy');
    const bgm = document.getElementById('bgm');
    const fxLayer = document.getElementById('fx-layer');

    function answerQ1(ans){
      // Keep it straightforward; proceed to Q2 either way
      q1.classList.add('hidden');
      q2.classList.remove('hidden');
    }

    function answerQ2(ans){
      q2.classList.add('hidden');
      transitionCard.classList.remove('hidden');

      // brief pause on the transition line, then start dreamy mode
      setTimeout(() => {
        transitionToDreamy();
        startStory();
      }, 2500);
    }

    function transitionToDreamy(){
      // Background shift
      document.body.classList.add('dreamy');

      // Start bubbles + hearts
      fxLayer.classList.remove('hidden');
      startFloatingEffects();

      // Start music (allowed since user interacted with buttons)
      bgm.volume = 0.6;
      bgm.play().catch(()=>{/* ignore autoplay errors */});
    }

   /* ------- Story timeline ------- */
// Replace filenames with yours
	const timeline = [
  { t: "Baby, ever since I saw you in MIV I already had my eyes on you" },
  { img: "https://drive.google.com/uc?export=view&id=1PKGtefYh2IlHBsp4ZkswCdHUpWBxGb5r" },

  { t: "‚Ä¶Little did I know, we‚Äôd become even closer in MPDC" },
  { img: "https://drive.google.com/uc?export=view&id=1TQQ5dbuDLpCr8YuHDz2M0_lbgB0dBJHr" },

  { t: "But God knows how thankful I am for everything that has led us to wherever we are now (yes, even the screenshot I mistakenly sent)" },
  { img: "https://drive.google.com/uc?export=view&id=1RN5lQ4iGY8Lw9PnQpxooPwVD2blvWFzU" },
  { img: "https://drive.google.com/uc?export=view&id=1kPZfVrn1kwYq4tetVsQM8jYcesq2Vi-T" },
  { img: "https://drive.google.com/uc?export=view&id=1jchZTwDEm0a7WUdiqE8SmZqLJ6zjsYcU" },

  { t: "Thank u for inviting me to play valo üíô" },

  { t: "I love you so much baby, I would not trade what we have for anything else" },

  { t: "‚ÄúThrough every storm and every slow day, I‚Äôll choose to walk beside you.‚Äù", class: "quote" },
  { img: "https://drive.google.com/uc?export=view&id=1v5D58-LeXtALj2wsib8rNDj2cnPBokWP" },

  { t: "Thank you for every little and big thing you do ‚Äî you make my world softer and brighter.", class: "quote" },
  { img: "https://drive.google.com/uc?export=view&id=1MKaXI14Qd4m91F5Jp-f-YXhRWRtp_nNO" },

  { t: "Sorry I am sometimes stubborn, I am learning and trying my best to love you & myself", class: "apology" },

  { t: "Sorry I couldn‚Äôt wait to tell you irl üòÖ, I love you" }
];


    function startStory(){
      transitionCard.classList.add('hidden');
      story.classList.remove('hidden');

      let delay = 600; // initial small delay
      const gap = 5200; // spacing between reveals

      timeline.forEach(part => {
        setTimeout(() => {
          if (part.t){
            const p = document.createElement('p');
            p.className = 'story-text' + (part.class ? ' ' + part.class : '');
            p.textContent = part.t;
            story.appendChild(p);
            requestAnimationFrame(()=> p.classList.add('show'));
          } else if (part.img){
            const img = document.createElement('img');
            img.className = 'story-img';
            img.src = part.img;
            img.alt = 'photo';
            story.appendChild(img);
            requestAnimationFrame(()=> img.classList.add('show'));
          }
          // Scroll down as new content appears (gentle auto-scroll)
          window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }, delay);

        delay += gap;
      });

      // Final YES + Snoopy (after last timeline item)
      setTimeout(() => {
        finalMessage.classList.add('show');
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
      }, delay + 1000);

      setTimeout(() => {
        snoopy.classList.add('show');
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
      }, delay + 3200);
    }

    /* ------- Floating effects (start only after trivia) ------- */
    let fxIntervals = [];
    function startFloatingEffects(){
      // Create elements periodically
      fxIntervals.push(setInterval(()=> spawn('bubble'), 650));
      fxIntervals.push(setInterval(()=> spawn('heart'), 1200));
    }

    function spawn(type){
      const el = document.createElement('div');
      el.className = `fx ${type}`;
      const vw = Math.random()*100; // 0-100vw
      const size = type === 'bubble'
        ? (Math.random()*28 + 18)  // 18-46px
        : (Math.random()*16 + 16); // 16-32px hearts
      const dur = Math.random()*8 + 8; // 8-16s
      const drift = (Math.random() < .5 ? -1 : 1) * (Math.random()*60 + 10); // side drift

      el.style.left = `${vw}vw`;
      el.style.width = `${size}px`;
      el.style.height = `${size}px`;
      el.style.animationDuration = `${dur}s`;
      el.style.setProperty('--drift', `${drift}px`);

      fxLayer.appendChild(el);
      // cleanup
      setTimeout(()=> el.remove(), (dur*1000)+200);
    }
  </script>
</body>
</html>
